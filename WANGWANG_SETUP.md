# 阿里旺旺客服配置指南

## 概述

本项目已集成阿里旺旺客服功能，支持在3D模型预览界面直接联系客服进行手办定制咨询。

## 配置步骤

### 1. 获取店铺旺旺号

1. 登录您的淘宝/天猫店铺后台
2. 进入"客服管理" → "客服设置"
3. 找到主客服账号的"旺旺号"（通常是店铺名称）
4. 复制旺旺号备用

### 2. 更新配置文件

编辑文件：`src/config/wangwang.config.ts`

```typescript
export const WANGWANG_CONFIG: WangwangConfig = {
  // 将下面的值替换为您的实际店铺旺旺号
  shopWangwang: "您的店铺旺旺号",  // ← 这里需要修改
  shopName: "您的店铺名称",        // ← 这里需要修改
  
  // ... 其他配置保持不变
  
  fallbackContacts: {
    phone: "您的客服电话",     // ← 建议更新
    email: "您的客服邮箱",     // ← 建议更新
    qq: "您的客服QQ"          // ← 建议更新
  }
};
```

### 3. 自定义消息模板（可选）

您可以根据业务需要修改消息模板：

```typescript
messageTemplates: {
  handicraft: `您好！我想制作这个模型的手办：

模型信息：
- 名称: {modelName}
- 格式: {modelFormat}
- 文件: {fileName}

模型链接: {modelUrl}

请问：
1. 可以定制制作这个手办吗？
2. 需要多长时间？
3. 价格是多少？
4. 支持哪些材质和尺寸？

期待您的回复！`
}
```

## 功能说明

### 用户操作流程

1. 用户在3D模型预览界面查看模型
2. 点击右下角的"🎨 制作手办"按钮
3. 系统自动构造包含模型信息的消息
4. 尝试打开阿里旺旺客户端
5. 如果客户端未安装，提供网页版兜底方案

### 消息内容包含

- 模型名称和格式
- 模型下载链接
- 预设的咨询问题
- 时间戳等上下文信息

### 兜底机制

1. **优先级1**: 阿里旺旺客户端（aliim://协议）
2. **优先级2**: 阿里旺旺网页版
3. **优先级3**: 显示备用联系方式（电话、QQ等）

## 支持的URL格式

### 客户端URL
```
aliim:sendmsg?touid=店铺旺旺号&siteid=cntaobao&content=消息内容
```

### 网页版URL  
```
https://www.taobao.com/webww/ww.php?ver=3&touid=店铺旺旺号&siteid=cntaobao&status=2&charset=utf-8
```

## 测试方法

1. 部署应用到测试环境
2. 生成一个3D模型
3. 在模型预览界面点击"制作手办"按钮
4. 验证阿里旺旺是否正确打开并预填充消息

## 注意事项

- 确保旺旺号填写正确，区分大小写
- 消息内容会自动URL编码，支持中文
- 建议定期测试功能是否正常工作
- 可以通过浏览器控制台查看详细日志

## 常见问题

**Q: 点击按钮后没有反应？**
A: 检查旺旺号是否正确，查看浏览器控制台是否有错误信息

**Q: 客户端没有自动打开？**
A: 用户需要安装阿里旺旺客户端，或者引导用户使用网页版

**Q: 想修改消息内容？**
A: 编辑 `wangwang.config.ts` 中的 `messageTemplates.handicraft` 模板

**Q: 如何添加更多联系方式？**
A: 更新 `fallbackContacts` 配置，添加微信、官网等信息 